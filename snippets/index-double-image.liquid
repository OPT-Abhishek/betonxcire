{%- if block.settings.image -%}
  {%- assign img_object = block.settings.image -%}
{%- else -%}
  {%- assign img_object = 'blank.svg' | asset_url -%}
{%- endif -%}

<div class="grid__item medium-up--one-half small--one-half double__block banner-image {{ block.settings.color }} preventOverflow" {{ block.shopify_attributes }}>
  {%- if block.settings.link_text == '' and block.settings.link and block.settings.button_image == nil -%}
    <a href="{{ block.settings.link }}">
  {%- endif -%}

  <div class="content--centered">
    <div class="{{ block.settings.text_align }} preventOverflowContent">
      {%- unless block.settings.title == blank -%}
        <h1 class="section-title text-center">{{ block.settings.title | escape }}</h1>
      {%- endunless -%}

      {%- unless block.settings.description == blank %}
        <p class="content--flex h5--body">{{ block.settings.description }}</p>
      {%- endunless -%}

      {%- unless block.settings.link_text == blank -%}
        <a class="{{ block.settings.button_style }}" href="{{ block.settings.link }}">{{ block.settings.link_text | escape }}</a>
      {%- endunless -%}
    </div>
  </div>

  <div class="image-overlay image-overlay-{{ block.settings.overlay_opacity }}"></div>

  <div
   class="bg-cover lazyload"
   data-bgset="{% include 'bgset', image: img_object %}"
   role="img"
   aria-label="{{ img_object.alt }}"></div>

  <noscript>
    <div
     class="bg-cover"
     style="background-image: url('{{ img_object | img_url: '540x' }}');"></div>
  </noscript>

  {%- if block.settings.link_text == '' and block.settings.link and block.settings.button_image == nil -%}
    </a>
  {%- endif -%}
</div>
